
# Advanced Sample App
[![Commitizen friendly](https://img.shields.io/badge/commitizen-friendly-brightgreen.svg)](http://commitizen.github.io/cz-cli/)

![App Thumbnail](domo/thumbnail.png)

## What is the Advanced Sample App?
This app was created to demonstrate how to use Domo's App [Starter Kit](https://github.com/DomoApps/starter-kit) and how commonly requested functionality is implemented in a robust Custom App.

The app demonstrates data formatting, filtering, and display. An "inventory" of products is displayed as well as summaries of transactions. The "Transactions" page demonstrates the use of widgets. Domo Widgets are reusable components that render [d3 charts](https://d3js.org).

Because this app is not attached to an instance of Domo, DataSource requests are mocked in the products and transaction analytics factories. Comments are included to explain how production DataSource requests are made. See the [Domo Developer Guide](https://developer.domo.com/docs/dev-studio/dev-studio-data) for more information on DataSource requests.

## How Do I Use the Advanced Sample App?

### 1. Set Up Your Project
1. Clone this repo
    `$ git clone https://github.com/DomoApps/advanced-sample-app.git`
2. Install dependencies `$ npm install`

### 2. Development
`$ npm start` will run a development server that reloads on file changes

### 3. Publishing to Domo
1. Login to Domo `$ domo login`
2. Publish the app `$ npm run upload`
3. Update the `{ id: ... }` value in `domo/manifest.json` with your new app ID

### DataSources
The app is configured by default to mock any DataSource requests with JSON files. In order to change this functionality to use "live" data:

1. Follow instructions on [Domo University](https://knowledge.domo.com/?cid=connectordataset#Adding_a_DataSet_using_a_connector) to create two Excel DataSources. Both Excel files are located in the `/data` folder
2. Navigate to the two DataSources in Domo and copy the `ID`s from the URL (https://{COMPANY}.domo.com/excel/{ID}/overview)
3. Replace the existing `ID`s in `manifest.json` with the new ones from step 2
4. In `src/desktop/index.js` change the value of `MOCK_REQUESTS` to `false`
5. Run `npm run upload`
6. Create a new card using the new design by following the steps on the [Developer Portal](https://developer.domo.com/docs/dev-studio/dev-studio-publish#Create%20an%20App%20Instance)

For more information on available commands and usage, see the documentation for the Domo Apps [Starter Kit](https://github.com/DomoApps/starter-kit).

## Compatiblity
#### Tested and working
- Chrome (OSX)
- Safari (OSX)

#### Known Issues
- Windows
  - Sticky table header does not align with table body

## Folder Structure
```text
. // top level config stuff for webpack, karma, eslint, ect...
├── src
|    ├── common // common across desktop and responsive
|    |    ├── components // place for common components
|    |    |
|    |    ├── filters // place for common filters
|    |    |
|    |    ├── services // place for common services
|    |    |
|    |    ├── styles // place for common styles
|    |    |    ├── typebase.css // base type for all apps
|    |    |    └── variable.css // variables
|    |    └── index.js // JS entry for common Angular module
|    |
|    ├── responsive // a folder for each component
|    |    ├── components // place for dumb/presenter components common across routes
|    |    |
|    |    ├── containers // place for smart/container components common across routes
|    |    |
|    |    ├── routes // place for routes
|    |    |    └── my-route
|    |    |        ├── components // place for dumb/presenter components specific to this route
|    |    |        |
|    |    |        ├── containers // place for smart/container components specific to this route
|    |    |        |    └── my-container
|    |    |        |        ├── my-container.component.js
|    |    |        |        ├── my-container.component.css
|    |    |        |        └── my-container.component.html
|    |    |        |
|    |    |        └── index.js // define module and route
|    |    |
|    |    ├── responsive.cofig.js // responsive app top level configuration
|    |    ├── responsive.init.js // top level initialization code
|    |    ├── responsive.html // html entry (layout html goes here)
|    |    ├── responsive.css // common css for responsive
|    |    └── index.js // JS entry
|    |
|    └── desktop // same structure as responsive
|
└── dist // Generated by build
...

```
